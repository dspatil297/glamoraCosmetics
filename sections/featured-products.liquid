{% comment %} Glamora Featured Products — section heading + 4-column product grid {% endcomment %}
{% assign collection = collections[section.settings.collection] | default: collections.all %}
<div class="featured-products shopify-section">
  <div class="featured-products__header">
    <h2 class="featured-products__title">{{ section.settings.heading | default: 'Glamora Cosmetics' }}</h2>
    <p class="featured-products__subtitle">{{ section.settings.subtitle | default: 'Guard your skin against harmful UV rays and urban pollution.' }}</p>
    <a href="{{ collection.url }}" class="featured-products__link">{{ section.settings.link_text | default: 'VIEW ALL PRODUCTS →' }}</a>
  </div>
  <div class="featured-products__grid">
    {% for product in collection.products limit: section.settings.limit %}
      <div class="featured-products__item">
        {% assign show_badge = false %}
        {% if product.tags contains 'new' or product.metafields.custom.badge == 'new' %}{% assign show_badge = true %}{% endif %}
        {% render 'product-card', product: product, show_badge: show_badge %}
      </div>
    {% endfor %}
  </div>
</div>

{% stylesheet %}
  .featured-products { 
    padding: var(--section-padding-block-mobile) clamp(1rem, 4vw, var(--page-margin)); 
    background: var(--color-background); 
  }
  @media (min-width: 769px) {
    .featured-products { padding: var(--section-padding-block-desktop) clamp(1rem, 4vw, var(--page-margin)); }
  }
  .featured-products__header { 
    text-align: center; 
    margin-bottom: clamp(1.5rem, 3vw, 2rem); 
  }
  .featured-products__title { 
    font-family: var(--font-heading); 
    font-size: clamp(1.5rem, 2.5vw, 2rem); 
    margin: 0 0 var(--spacing-xs); 
    color: var(--color-foreground); 
  }
  .featured-products__subtitle { 
    color: var(--color-text-muted); 
    margin: 0 0 var(--spacing-md); 
    font-size: 0.9375rem; 
  }
  .featured-products__link { 
    font-size: 0.8125rem; 
    letter-spacing: 0.1em; 
    text-transform: uppercase; 
    color: var(--color-primary); 
    text-decoration: none; 
  }
  .featured-products__link:hover { text-decoration: underline; }
  .featured-products__grid { 
    display: grid; 
    grid-template-columns: repeat(4, 1fr); 
    gap: clamp(1rem, 2vw, 1.5rem); 
    max-width: var(--page-width); 
    margin: 0 auto; 
  }
  @media (max-width: 990px) { 
    .featured-products__grid { 
      grid-template-columns: repeat(2, 1fr); 
      gap: var(--spacing-md);
    } 
  }
  @media (max-width: 480px) { 
    .featured-products__grid { 
      grid-template-columns: 1fr; 
      gap: var(--spacing-lg);
    } 
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Featured products",
  "tag": "section",
  "class": "section-featured-products",
  "settings": [
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "range", "id": "limit", "min": 2, "max": 8, "step": 1, "default": 4, "label": "Products to show" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Glamora Cosmetics" },
    { "type": "text", "id": "subtitle", "label": "Subtitle", "default": "Guard your skin against harmful UV rays and urban pollution." },
    { "type": "text", "id": "link_text", "label": "Link text", "default": "VIEW ALL PRODUCTS →" }
  ],
  "presets": [{ "name": "Featured products" }]
}
{% endschema %}
